<!--
@license
Vaadin Drawer Toggle
Copyright (C) 2018 Vaadin Ltd
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
-->

<link rel="import" href="../../vaadin-button/vaadin-button.html">
<link rel="import" href="../../vaadin-lumo-styles/icons.html">
<link rel="import" href="../../iron-icon/iron-icon.html">

<dom-module id="vaadin-drawer-toggle">
  <template>
    <style>
      :host {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        cursor: default;
        position: relative;
        outline: none;
      }

      #button {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
      }
    </style>
    <slot>
      <!-- TODO(jouni): don't use Lumo in the core styles, and make this customizable (font-icon) -->
      <iron-icon icon="lumo:menu"></iron-icon>
    </slot>
    <button id="button" type="button" aria-label$="[[ariaLabel]]"></button>
  </template>

  <script>
    (function() {

      /**
       * The Drawer Toggle component controls the drawer in App Layout component.
       *
       * ```
       * <vaadin-app-layout>
       *   <vaadin-drawer-toggle slot="navbar">Toggle drawer</vaadin-drawer-toggle>
       * </vaadin-app-layout>
       * ```
       *
       * @memberof Vaadin
       * @extends Vaadin.ButtonElement
       * @demo demo/index.html
       */
      class DrawerToggleElement extends Vaadin.ButtonElement {
        static get is() {
          return 'vaadin-drawer-toggle';
        }

        static get properties() {
          return {
            ariaLabel: String
          };
        }

        constructor() {
          super();

          this.addEventListener('click', e => {
            this.dispatchEvent(new CustomEvent('drawer-toggle-click', {bubbles: true, composed: true}));
          });
        }

        connectedCallback() {
          super.connectedCallback();
        }

      }

      customElements.define(DrawerToggleElement.is, DrawerToggleElement);

      /**
       * @namespace Vaadin
       */
      window.Vaadin.DrawerToggleElement = DrawerToggleElement;
    })();
  </script>
</dom-module>
