<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Drawer tests</title>
</head>

<body>
  <style>
    body {
      margin: 0;
      height: 100%;
    }

    #drawer-tests {
      min-height: 300px;
    }
  </style>

  <div id="drawer-tests">
    <vaadin-app-layout>
      <vaadin-drawer-toggle slot="navbar"></vaadin-drawer-toggle>
      <h2 slot="navbar">App Name</h2>
      <section slot="drawer">
        Drawer content
      </section>
      <main>
        Page content
      </main>
    </vaadin-app-layout>
  </div>

  <script type="module">
    import { cssFromModules } from '@polymer/polymer/lib/utils/style-gather.js';

    (async() => {
      const themeQuery = window.location.search.replace(/.*theme=([\w\-]+).*/, '$1') || 'lumo';
      const [theme, variant] = themeQuery.split('-');

      await Promise.all([
        import('../../theme/' + theme + '/vaadin-drawer-toggle.js'),
        import('../../theme/' + theme + '/vaadin-app-layout.js')
      ]);

      if (theme === 'lumo') {
        const style = document.createElement('style');
        style.textContent = cssFromModules('lumo-color') + cssFromModules('lumo-typography');
        document.head.appendChild(style);
      }

      if (variant === 'dark') {
        document.documentElement.setAttribute('theme', variant);
      }

      window.requestAnimationFrame(() => {
        window.webComponentsAreReady = true;
      });
    })();
  </script>
</body>
</html>
