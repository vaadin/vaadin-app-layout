<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>Tabs tests</title>

  <script type="module">
    import '@polymer/polymer/lib/elements/custom-style.js';
  </script>

  <script>
    const themeQuery = window.location.search.replace(/.*theme=([\w\-]+).*/, '$1') || 'lumo';
    const [theme, variant] = themeQuery.split('-');

    if (variant) {
      document.documentElement.setAttribute('theme', variant);
      document.write(`
        <custom-style>
          <style include="lumo-color">
          </style>
        </custom-style>
      `);
    }
  </script>
</head>

<body>
  <style>
    body {
      margin: 0;
      height: 100%;
    }

    #tabs-tests {
      min-height: 300px;
    }

    vaadin-app-layout:not(:defined) {
      display: none;
    }
  </style>

  <div id="tabs-tests">
    <vaadin-app-layout>
      <vaadin-drawer-toggle slot="navbar"></vaadin-drawer-toggle>
      <h2 slot="navbar">App Name</h2>
      <vaadin-tabs orientation="vertical" slot="drawer">
        <vaadin-tab>
          <a href="/">
            <iron-icon icon="lumo:calendar"></iron-icon>
            Page 1
          </a>
        </vaadin-tab>
        <vaadin-tab>
          <a href="page2">
            <iron-icon icon="lumo:user"></iron-icon>
            Page 2
          </a>
        </vaadin-tab>
        <vaadin-tab>
          <a href="page3">
            <iron-icon icon="lumo:phone"></iron-icon>
            Page 3
          </a>
        </vaadin-tab>
      </vaadin-tabs>
      <main>
        Page content
      </main>
    </vaadin-app-layout>
  </div>

  <script type="module">
    (async() => {
      const theme = window.location.search.replace(/.*theme=(\w+).*/, '$1') || 'lumo';

      await Promise.all([
        import('../../theme/' + theme + '/vaadin-drawer-toggle.js'),
        import('../../theme/' + theme + '/vaadin-app-layout.js'),
        import('@vaadin/vaadin-tabs/theme/' + theme + '/vaadin-tabs.js'),
        import('@vaadin/vaadin-lumo-styles/icons.js'),
      ]);

      await Promise.all([
        document.querySelector('vaadin-app-layout').updateComplete,
        document.querySelector('vaadin-tabs').updateComplete
      ]);

      window.requestAnimationFrame(() => {
        window.webComponentsAreReady = true;
      });
    })();
  </script>
</body>
</html>
